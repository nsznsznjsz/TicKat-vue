(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a17161f6"],{"0a6e":function(t,e,r){"use strict";var o=r("540b"),a=r.n(o);e["default"]=a.a},"238e":function(t,e,r){"use strict";var o=r("3dc6"),a=r.n(o);e["default"]=a.a},"3a41":function(t,e,r){"use strict";var o=r("eb3d"),a=r.n(o);e["default"]=a.a},"3d11":function(t,e,r){"use strict";var o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{class:t.$style.footer},[r("p",[t._v("第三方登录")]),r("div",[r("a",{class:t.$style.qq,on:{click:function(e){return t.clickHandle("qq")}}},[r("i",{staticClass:"fa fa-qq",attrs:{"aria-hidden":"true"}})]),r("a",{class:t.$style.wechat,on:{click:function(e){return t.clickHandle("wechat")}}},[r("i",{staticClass:"fa fa-weixin",attrs:{"aria-hidden":"true"}})]),r("a",{class:t.$style.github,on:{click:function(e){return t.clickHandle("github")}}},[r("i",{staticClass:"fa fa-github",attrs:{"aria-hidden":"true"}})])])])},a=[],n=(r("6b54"),r("2397"),r("96cf"),r("3b8d")),i=r("d225"),s=r("b0b4"),c=r("4e2b"),l=r("308d"),u=r("6bb5"),f=r("9ab4"),p=r("60a3");function d(t){var e=m();return function(){var r,o=Object(u["a"])(t);if(e){var a=Object(u["a"])(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return Object(l["a"])(this,r)}}function m(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var b=function(t){Object(c["a"])(r,t);var e=d(r);function r(){var t;return Object(i["a"])(this,r),t=e.apply(this,arguments),t.href={qq:"",wechat:"",github:""},t}return Object(s["a"])(r,[{key:"created",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$http.post("/api/login/oauth");case 3:e=t.sent,r=e.data,this.href.qq=r.qq,this.href.wechat=r.wechat,this.href.github=r.github,t.next=12;break;case 10:t.prev=10,t.t0=t["catch"](0);case 12:case"end":return t.stop()}}),t,this,[[0,10]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"clickHandle",value:function(t){this.$message("小哥正在紧急开发中")}}]),r}(p["d"]);b=Object(f["b"])([p["a"]],b);var h=b,v=h,g=r("0a6e"),y=r("2877");function w(t){this["$style"]=g["default"].locals||g["default"]}var _=Object(y["a"])(v,o,a,!1,w,null,null);e["a"]=_.exports},"3dc6":function(t,e,r){t.exports={warpper:"Signup_warpper_21jui"}},"540b":function(t,e,r){t.exports={footer:"LoginFooter_footer_2fGRg",qq:"LoginFooter_qq_TbZUT",wechat:"LoginFooter_wechat_2EEl1",github:"LoginFooter_github_2_dxj",facebook:"LoginFooter_facebook_2Rx4m",twitter:"LoginFooter_twitter_gE05E",google:"LoginFooter_google_18Yn0",pinterest:"LoginFooter_pinterest_a0OWe",btc:"LoginFooter_btc_2lEIe",tumblr:"LoginFooter_tumblr_FcvzW",vk:"LoginFooter_vk_csWjs",reddit:"LoginFooter_reddit_1SKM4"}},7106:function(t,e,r){"use strict";r.r(e);var o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("BaseLogo",{attrs:{height:t.logo.height,width:t.logo.width}}),r("Signup")],1)},a=[],n=(r("6b54"),r("2397"),r("d225")),i=r("4e2b"),s=r("308d"),c=r("6bb5"),l=r("9ab4"),u=r("60a3"),f=r("0c52"),p=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("el-row",[r("el-col",{class:t.$style.warpper,attrs:{xl:{span:8,offset:8},lg:{span:8,offset:8},md:{span:12,offset:6},sm:{span:12,offset:6},xs:{span:24,offset:0}}},[r("SignupForm",{attrs:{loading:t.loading},on:{submit:t.submitHandle,validate:t.validateHandle},model:{value:t.formError,callback:function(e){t.formError=e},expression:"formError"}}),r("LoginFooter")],1)],1)],1)},d=[],m=r("b0b4"),b=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("el-row",[r("el-col",{attrs:{xl:{span:16,offset:4},lg:{span:20,offset:2},md:{span:20,offset:2},sm:{span:24,offset:0},xs:{span:24,offset:0}}},[r("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"form",class:t.$style.form,attrs:{model:t.form,rules:t.rules}},[r("el-form-item",{attrs:{prop:"username"}},[r("el-input",{attrs:{placeholder:"用户名","prefix-icon":"fa fa-user-o",clearable:""},model:{value:t.form.username,callback:function(e){t.$set(t.form,"username",e)},expression:"form.username"}})],1),r("el-form-item",{attrs:{prop:"password"}},[r("el-input",{attrs:{type:"password",placeholder:"密码","prefix-icon":"fa fa-lock",clearable:""},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),r("el-form-item",{attrs:{prop:"passwordReword"}},[r("el-input",{attrs:{type:"password",placeholder:"再次输入","prefix-icon":"fa fa-lock",clearable:""},model:{value:t.form.passwordReword,callback:function(e){t.$set(t.form,"passwordReword",e)},expression:"form.passwordReword"}})],1),r("el-form-item",{attrs:{prop:"mobile"}},[r("el-input",{attrs:{type:"tel",placeholder:"手机号","prefix-icon":"el-icon-mobile-phone",clearable:""},model:{value:t.form.mobile,callback:function(e){t.$set(t.form,"mobile",e)},expression:"form.mobile"}})],1),r("el-form-item",{attrs:{prop:"license"}},[r("el-checkbox",{class:t.$style.license,model:{value:t.form.license,callback:function(e){t.$set(t.form,"license",e)},expression:"form.license"}},[t._v("我已阅读并同意\n          "),r("router-link",{attrs:{to:"/userLicense"}},[t._v("《用户使用协议》")])],1)],1),r("el-form-item",{class:t.$style.formError,attrs:{prop:"error",error:t.formError}}),r("el-form-item",[r("el-row",{class:t.$style.option},[r("el-col",{attrs:{span:12}},[r("el-button",{attrs:{type:"text"},on:{click:t.redirectHandle}},[t._v("已有账号？")])],1),r("el-col",{attrs:{span:12}},[r("el-button",{class:t.$style.btn,attrs:{type:"primary"},on:{click:t.submit}},[t._v("注册")])],1)],1)],1)],1)],1)],1)},h=[],v=r("2b0e"),g=r("65d9"),y=r.n(g);function w(t){var e=_();return function(){var r,o=Object(c["a"])(t);if(e){var a=Object(c["a"])(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return Object(s["a"])(this,r)}}function _(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var j=function(t){Object(i["a"])(r,t);var e=w(r);function r(){var t;return Object(n["a"])(this,r),t=e.apply(this,arguments),t.form={username:"",password:"",passwordReword:"",mobile:"",license:!1},t.rules={username:[{max:20,message:"长度不大于 20 个字符",trigger:"blur"},{validator:t.validateUsername,trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{max:20,message:"长度不大于 20 个字符",trigger:"blur"}],passwordReword:[{required:!0,validator:t.validatePasswordReword,trigger:"blur"}],mobile:[{required:!0,validator:t.validateMobile,trigger:"blur"}]},t}return Object(m["a"])(r,[{key:"setError",value:function(t){this.$emit("change",t)}},{key:"submit",value:function(){var t=this,e="form";this.$refs[e].validate((function(e){if(e){if(!t.form.license)return t.setError("请同意用户使用协议"),null;t.$emit("submit",t.form)}}))}},{key:"reset",value:function(){var t="form";this.$refs[t].resetFields()}},{key:"validateUsername",value:function(t,e,r){if(this.setError(),""===e)return r(new Error("请输入用户名"));this.$emit("validate",this.form.username,r)}},{key:"validatePasswordReword",value:function(t,e,r){this.setError(),e?this.form.password!==e?r(new Error("两次输入密码不一致")):r():r(new Error("请再次输入密码"))}},{key:"validateMobile",value:function(t,e,r){this.setError();var o=/^[1][3,4,5,7,8][0-9]{9}$/;e?o.test(e)?r():r(new Error("请正确输入手机号")):r(new Error("请输入手机号"))}},{key:"validateError",value:function(t,e,r){this.setError(),this.formError?r(new Error(this.formError)):r()}},{key:"redirectHandle",value:function(){this.$router.push({name:"Login"})}}]),r}(v["default"]);Object(l["b"])([Object(u["b"])("change")],j.prototype,"formError",void 0),Object(l["b"])([Object(u["c"])({type:Boolean,default:!1})],j.prototype,"loading",void 0),j=Object(l["b"])([y.a],j);var k=j,O=k,x=r("3a41"),E=r("2877");function $(t){this["$style"]=x["default"].locals||x["default"]}var R=Object(E["a"])(O,b,h,!1,$,null,null),F=R.exports,q=r("3d11");function L(t){var e=S();return function(){var r,o=Object(c["a"])(t);if(e){var a=Object(c["a"])(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return Object(s["a"])(this,r)}}function S(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var H=function(t){Object(i["a"])(r,t);var e=L(r);function r(){var t;return Object(n["a"])(this,r),t=e.apply(this,arguments),t.loading=!1,t.formError="",t}return Object(m["a"])(r,[{key:"submitHandle",value:function(t){var e=this;this.loading=!0,this.$http.post("/api/signup",t).then((function(t){e.loading=!1,e.$router.push({name:"Signup"})})).catch((function(t){e.loading=!1,e.formError="服务器开小差了，请稍后再试"}))}},{key:"validateHandle",value:function(t,e){this.$http.post("/api/signup/validate",t).then((function(t){0===t.data.type?e():1===t.data.type?e(new Error("用户名已被占用")):2===t.data.type?e(new Error("用户名只能由英文、数字、下划线构成")):t.data.message?e(new Error(t.data.message)):e()})).catch((function(t){}))}}]),r}(u["d"]);H=Object(l["b"])([Object(u["a"])({components:{SignupForm:F,LoginFooter:q["a"]}})],H);var D=H,P=D,M=r("238e");function T(t){this["$style"]=M["default"].locals||M["default"]}var W=Object(E["a"])(P,p,d,!1,T,null,null),B=W.exports,C=r("b437");function U(t){var e=J();return function(){var r,o=Object(c["a"])(t);if(e){var a=Object(c["a"])(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return Object(s["a"])(this,r)}}function J(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var z=function(t){Object(i["a"])(r,t);var e=U(r);function r(){var t;return Object(n["a"])(this,r),t=e.apply(this,arguments),t.logo={height:"100px",width:"300px"},t}return r}(u["d"]);z=Object(l["b"])([Object(u["a"])({components:{BaseLogo:f["a"],Signup:B,TheFooter:C["a"]}})],z);var G=z,I=G,K=Object(E["a"])(I,o,a,!1,null,null,null);e["default"]=K.exports},eb3d:function(t,e,r){t.exports={form:"SignupForm_form_3hcdM",option:"SignupForm_option_92Qc-",btn:"SignupForm_btn_2fkOk",license:"SignupForm_license_LWccs",formError:"SignupForm_formError_3wjTm"}}}]);
//# sourceMappingURL=chunk-a17161f6.ef8a9174.js.map